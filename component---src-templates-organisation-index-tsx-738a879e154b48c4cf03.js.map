{"version":3,"sources":["webpack:///./src/components/icons/link.tsx","webpack:///./src/templates/organisation/mappings.ts","webpack:///./src/templates/organisation/index.tsx"],"names":["Link","width","height","viewBox","fill","xmlns","d","stroke","stroke-width","mapRelated","entry","mapTag","title","slug","description","video","embedVideo","img","length","src","url","alt","type","typeHandle","socialImpacts","socialImpactsTags","map","populationGroups","populationGroupTags","industries","industriesTags","locations","locationsTags","insightsFor","insightsForTags","query","props","craft","console","log","allEntries","organisation","related","filter","__typename","organisations","id","links","externalLinks","mapCraft","data","sx","bg","pt","rem","Container","backgroundImage","arrowIllustration","backgroundRepeat","backgroundPositionX","backgroundPositionY","py","onClick","window","history","go","fontSize","fontWeight","svg","transform","marginRight","display","flexDirection","justifyContent","TypeTag","mt","mb","lineHeight","my","whiteSpace","li","span","linkURL","label","href","target","gridTemplateColumns","gridColumnGap","gridRowGap","gridColumn","hit","ResourceCard","static"],"mappings":"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","file":"component---src-templates-organisation-index-tsx-738a879e154b48c4cf03.js","sourcesContent":["import React from \"react\";\n\nconst Link = () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M12 8.66667V12.6667C12 13.0203 11.8595 13.3594 11.6095 13.6095C11.3594 13.8595 11.0203 14 10.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V5.33333C2 4.97971 2.14048 4.64057 2.39052 4.39052C2.64057 4.14048 2.97971 4 3.33333 4H7.33333\"\n      stroke=\"#20222B\"\n      stroke-width=\"1.33333\"\n    />\n    <path d=\"M10 2H14V6\" stroke=\"#20222B\" stroke-width=\"1.33333\" />\n    <path\n      d=\"M6.66699 9.33333L14.0003 2\"\n      stroke=\"#20222B\"\n      stroke-width=\"1.33333\"\n    />\n  </svg>\n);\n\nexport default Link;\n","const mapRelated = (entry) => {\n  const mapTag = ({ title }) => title;\n  return {\n    title: entry.title || \"\",\n    slug: entry.slug || \"\",\n    description: entry.description || \"\",\n    video: entry.embedVideo || \"\",\n    img:\n      entry.img && entry.img.length\n        ? {\n            src: entry.img[0].url,\n            alt: entry.img[0].title,\n          }\n        : null,\n    type: entry.typeHandle,\n    socialImpacts:\n      entry.socialImpactsTags && entry.socialImpactsTags.length\n        ? entry.socialImpactsTags.map(mapTag)\n        : [],\n    populationGroups:\n      entry.populationGroupTags && entry.populationGroupTags.length\n        ? entry.populationGroupTags.map(mapTag)\n        : [],\n    industries:\n      entry.industriesTags && entry.industriesTags.length\n        ? entry.industriesTags.map(mapTag)\n        : [],\n    locations:\n      entry.locationsTags && entry.locationsTags.length\n        ? entry.locationsTags.map(mapTag)\n        : [],\n    insightsFor:\n      entry.insightsForTags && entry.insightsForTags.length\n        ? entry.insightsForTags.map(mapTag)\n        : [],\n  };\n};\n\nconst mapEntry = (entry, related) => {\n  return {\n    title: entry.title,\n    description: entry.description,\n    type: entry.typeHandle,\n    links: entry.externalLinks,\n    related: related && related.length ? related.map(mapRelated) : [],\n  };\n};\n\nexport const mapCraft = (craft) => {\n  console.log(craft.allEntries);\n  return {\n    entry: mapEntry(\n      craft.organisation,\n      craft.allEntries\n        .filter(\n          ({ __typename }) =>\n            __typename !== \"Craft_author_authors_Entry\" &&\n            __typename !== \"Craft_organisation_organisations_Entry\"\n        )\n        .filter(({ organisations }) => {\n          if (\n            organisations &&\n            organisations.filter(({ id }) => id == craft.organisation.id).length\n          ) {\n            return true;\n          } else {\n            return false;\n          }\n        })\n    ),\n  };\n};\n","/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\n// import SEO from \"@components/seo\";\n// import Layout from \"@components/layouts\";\nimport React from \"react\";\nimport Container from \"@components/Container\";\nimport ResourceCard from \"@components/ResourceCard\";\nimport PlainCard from \"@components/PlainCard\";\nimport { rem } from \"@src/theme\";\nimport { mapCraft } from \"./mappings\";\nimport { graphql, Link, navigate } from \"gatsby\";\nimport TypeTag from \"@components/TypeTag\";\nimport { kebabize } from \"@src/helpers/utils\";\nimport ExternalLink from \"@components/icons/link\";\nimport ArrowRight from \"@components/icons/arrowRight\";\nimport Download from \"@components/icons/download\";\nimport { transform } from \"lodash\";\nimport arrowIllustration from \"@src/assets/images/arrow.svg\";\nexport default (props) => {\n  const { entry } = mapCraft(props.data.craft);\n\n  const { title, description, type, links, related } = entry;\n\n  return (\n    <div>\n      <div\n        sx={{\n          bg: \"csiLightGrey\",\n          pt: rem(10),\n        }}\n      >\n        <Container>\n          <div\n            sx={{\n              backgroundImage: `url(${arrowIllustration})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundPositionX: \"right\",\n              backgroundPositionY: \"top\",\n              py: rem(40),\n            }}\n          >\n            <button\n              onClick={() => {\n                window.history.go(-1);\n              }}\n              sx={{\n                fontSize: rem(18),\n                fontWeight: 600,\n                svg: {\n                  transform: \"rotate(180deg) translateY(-5px)\",\n                  marginRight: rem(3),\n                },\n              }}\n            >\n              <ArrowRight />\n              Back\n            </button>\n          </div>\n        </Container>\n      </div>\n\n      <div\n        sx={{\n          py: rem(20),\n        }}\n      >\n        <Container>\n          <div\n            sx={{\n              display: \"flex\",\n              flexDirection: [\"column\", null, \"row\"],\n              justifyContent: \"space-between\",\n            }}\n          >\n            <div\n              sx={{\n                width: [\"100%\", null, rem(523)],\n              }}\n            >\n              <TypeTag type={type} />\n              <h1\n                sx={{\n                  fontSize: [rem(34), null, rem(54)],\n                  mt: rem(10),\n                  mb: [rem(20), null, rem(40)],\n                  lineHeight: 1.15,\n                }}\n              >\n                {title}\n              </h1>\n\n              {description && (\n                <p\n                  sx={{\n                    my: 0,\n                    fontSize: [rem(14), null, rem(16)],\n                    lineHeight: 1.35,\n                    whiteSpace: \"pre-line\",\n                  }}\n                >\n                  {description}{\" \"}\n                </p>\n              )}\n            </div>\n\n            <div\n              sx={{\n                width: [\"100%\", null, rem(308)],\n                pt: rem(40),\n              }}\n            >\n              {links && links.length ? (\n                <section>\n                  <h2\n                    sx={{\n                      fontSize: [rem(18), null, rem(24)],\n                      mb: rem(5),\n                      mt: 0,\n                    }}\n                  >\n                    Links\n                  </h2>\n                  <ul\n                    sx={{\n                      li: {\n                        fontSize: [rem(14), rem(16)],\n                        fontWeight: 600,\n                        mb: rem(20),\n                        lineHeight: 1.4,\n                      },\n                      span: {\n                        display: \"inline-block\",\n                        marginRight: rem(8),\n                        transform: \"translateY(2px)\",\n                      },\n                    }}\n                  >\n                    {links.map(({ linkURL, label }) => (\n                      <li>\n                        <a href={linkURL} target=\"_blank\">\n                          <span>\n                            <ExternalLink />\n                            {label}\n                          </span>\n                        </a>\n                      </li>\n                    ))}\n                  </ul>\n                </section>\n              ) : null}\n            </div>\n          </div>\n\n          {related && related.length ? (\n            <section\n              sx={{\n                mt: [rem(80), null, rem(100)],\n              }}\n            >\n              <h2\n                sx={{\n                  fontSize: [rem(18), null, rem(24)],\n                }}\n              >\n                Research by {title}\n              </h2>\n              <section\n                sx={{\n                  display: \"grid\",\n                  gridTemplateColumns: [\n                    \"repeat(1,1fr)\",\n                    \"repeat(2,1fr)\",\n                    \"repeat(3,1fr)\",\n                  ],\n                  gridColumnGap: [\"0.85rem\", null, \"3.00rem\"],\n                  gridRowGap: [\"0.85rem\", null, \"3.00rem\"],\n                  \"> div\": {\n                    gridColumn: \"initial\",\n                  },\n                }}\n              >\n                {related.map((hit) => (\n                  <ResourceCard hit={hit} static />\n                ))}\n              </section>\n            </section>\n          ) : null}\n        </Container>\n      </div>\n    </div>\n  );\n};\n\nexport const query = graphql`\n  query OrganisationQuery($id: Craft_QueryArgument) {\n    craft {\n      organisation: entry(id: [$id]) {\n        id\n        ...resourceOrganisationFields\n      }\n\n      allEntries: entries {\n        ... on Craft_report_report_Entry {\n          title\n          description\n          typeHandle\n          slug\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            __typename\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n        ... on Craft_video_video_Entry {\n          title\n          embedVideo\n          typeHandle\n          slug\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n\n        ... on Craft_statistic_statistic_Entry {\n          title\n          typeHandle\n          slug\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n\n        ... on Craft_report_report_Entry {\n          title\n          description\n          typeHandle\n          slug\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            __typename\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n        ... on Craft_infographic_infographic_Entry {\n          title\n          description\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          img {\n            title\n            url\n          }\n          typeHandle\n          slug\n          populationGroupTags {\n            __typename\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n\n        ... on Craft_academicArticle_academicArticle_Entry {\n          title\n          description\n          typeHandle\n          slug\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            __typename\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n\n        ... on Craft_insight_insights_Entry {\n          title\n          typeHandle\n          slug\n          description\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            __typename\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n        ... on Craft_tool_tool_Entry {\n          title\n          typeHandle\n          slug\n          description\n          organisations {\n            ... on Craft_organisation_organisations_Entry {\n              id\n              uri\n              title\n            }\n          }\n          populationGroupTags {\n            __typename\n            groupHandle\n            slug\n            title\n          }\n          industriesTags {\n            groupHandle\n            slug\n            title\n          }\n          locationsTags {\n            groupHandle\n            slug\n            title\n          }\n          socialImpactsTags {\n            groupHandle\n            slug\n            title\n          }\n          insightsForTags {\n            groupHandle\n            slug\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}