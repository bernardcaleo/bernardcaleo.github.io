{"version":3,"sources":["webpack:///./node_modules/@n8tb1t/use-scroll-position/lib/useIsomorphicLayoutEffect.js","webpack:///./node_modules/@n8tb1t/use-scroll-position/lib/useScrollPosition.js","webpack:///./src/components/Header/index.tsx","webpack:///./src/components/Layout/index.tsx","webpack:///./src/templates/impacts-listing/index.tsx","webpack:///./src/templates/impacts-listing/mappings.ts","webpack:///./node_modules/@n8tb1t/use-scroll-position/lib/index.js"],"names":["Object","defineProperty","exports","value","useIsomorphicLayoutEffect","_react","window","useLayoutEffect","useEffect","useScrollPosition","_useIsomorphicLayoutEffect","isBrowser","getScrollPosition","_ref","element","useWindow","x","y","position","current","document","body","getBoundingClientRect","scrollX","scrollY","left","top","effect","deps","wait","useRef","throttleTimeout","callBack","currPos","prevPos","handleScroll","setTimeout","addEventListener","removeEventListener","defaultProps","HeaderContent","sx","display","justifyContent","color","my","transform","fontSize","rem","to","height","alignItems","px","textDecoration","fontWeight","activeStyle","background","partiallyActive","py","bg","StickyContent","title","onClick","history","go","svg","marginRight","scrollTo","behavior","DefaultHeader","Container","StickyHeader","useState","sticky","setSticky","width","Main","stickyMode","Layout","children","Header","query","Impacts","props","category","data","craft","console","log","setRefinements","defaultRefinements","socialImpacts","type","InstantSearch","refinementType","defaultRefinement","isSearch","heading","enumerable","get","_useScrollPosition"],"mappings":"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","file":"component---src-templates-impacts-listing-index-tsx-db6c4aad217f5214c998.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useIsomorphicLayoutEffect = void 0;\n\nvar _react = require(\"react\");\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? _react.useLayoutEffect : _react.useEffect;\nexports.useIsomorphicLayoutEffect = useIsomorphicLayoutEffect;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScrollPosition = useScrollPosition;\n\nvar _react = require(\"react\");\n\nvar _useIsomorphicLayoutEffect = require(\"./useIsomorphicLayoutEffect\");\n/* eslint-disable react-hooks/exhaustive-deps */\n\n\nvar isBrowser = typeof window !== \"undefined\";\n\nfunction getScrollPosition(_ref) {\n  var element = _ref.element,\n      useWindow = _ref.useWindow;\n  if (!isBrowser) return {\n    x: 0,\n    y: 0\n  };\n  var target = element ? element.current : document.body;\n  var position = target.getBoundingClientRect();\n  return useWindow ? {\n    x: window.scrollX,\n    y: window.scrollY\n  } : {\n    x: position.left,\n    y: position.top\n  };\n}\n\nfunction useScrollPosition(effect, deps, element, useWindow, wait) {\n  var position = (0, _react.useRef)(getScrollPosition({\n    useWindow: useWindow\n  }));\n  var throttleTimeout = null;\n\n  var callBack = function callBack() {\n    var currPos = getScrollPosition({\n      element: element,\n      useWindow: useWindow\n    });\n    effect({\n      prevPos: position.current,\n      currPos: currPos\n    });\n    position.current = currPos;\n    throttleTimeout = null;\n  };\n\n  (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(function () {\n    if (!isBrowser) {\n      return;\n    }\n\n    var handleScroll = function handleScroll() {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait);\n        }\n      } else {\n        callBack();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return function () {\n      return window.removeEventListener('scroll', handleScroll);\n    };\n  }, deps);\n}\n\nuseScrollPosition.defaultProps = {\n  deps: [],\n  element: false,\n  useWindow: false,\n  wait: null\n};","/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport Container from \"@components/Container\";\nimport { useScrollPosition } from \"@n8tb1t/use-scroll-position\";\nimport { useState } from \"react\";\nimport { Link } from \"gatsby\";\nimport { rem } from \"@src/theme\";\nimport ArrowRight from \"@components/icons/arrowRight\";\n\nconst HeaderContent = () => {\n  return (\n    <div\n      sx={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n      }}\n    >\n      <h1\n        sx={{\n          color: \"white\",\n          my: 0,\n          transform: \"translateY(8px)\",\n          fontSize: [rem(24), null, rem(32)],\n        }}\n      >\n        SEES\n      </h1>\n      <div>\n        <Link\n          to=\"/\"\n          sx={{\n            height: \"100%\",\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            px: rem(25),\n            textDecoration: \"none\",\n            fontWeight: 600,\n            fontSize: [rem(14), null, rem(20)],\n          }}\n          activeStyle={{ background: \"#F4F7FB\" }}\n          partiallyActive={true}\n        >\n          Explore\n        </Link>\n        <Link\n          to=\"/about\"\n          sx={{\n            height: \"100%\",\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            px: rem(25),\n            textDecoration: \"none\",\n            fontWeight: 600,\n            color: \"white\",\n            fontSize: [rem(14), null, rem(20)],\n          }}\n          partiallyActive={false}\n        >\n          About\n        </Link>\n        <div\n          sx={{\n            display: \"inline-block\",\n            py: rem(20),\n          }}\n        >\n          <Link\n            to=\"/submit\"\n            sx={{\n              bg: \"csiYellow\",\n              px: rem(14),\n              py: rem(10),\n              textDecoration: \"none\",\n              fontWeight: 600,\n              fontSize: [rem(14), null, rem(20)],\n              \"&:hover\": {\n                bg: \"csiYellow\",\n                color: \"initial\",\n              },\n            }}\n          >\n            Submit research\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst StickyContent = ({ title }) => (\n  <div\n    sx={{\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      color: \"white\",\n      alignItems: \"center\",\n      py: rem(16),\n    }}\n  >\n    <button\n      onClick={() => {\n        window.history.go(-1);\n      }}\n      sx={{\n        transform: \"translateY(-4px)\",\n        color: \"white\",\n        fontSize: [rem(14), null, rem(18)],\n        fontWeight: 600,\n        svg: {\n          transform: \"rotate(180deg) translateY(-5px)\",\n          marginRight: rem(3),\n        },\n      }}\n    >\n      <ArrowRight />\n      Back\n    </button>\n\n    <h1 sx={{ fontSize: rem(24), my: 0, display: [\"none\", null, \"block\"] }}>\n      {title}\n    </h1>\n\n    <button\n      onClick={() => {\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n      }}\n      sx={{\n        transform: \"translateY(-4px)\",\n        color: \"white\",\n        fontSize: [rem(14), null, rem(18)],\n        fontWeight: 600,\n        svg: {\n          transform: \"rotate(270deg) translateY(-5px) translateX(-6px)\",\n          marginRight: rem(3),\n        },\n      }}\n    >\n      <ArrowRight />\n      Top\n    </button>\n  </div>\n);\n\nexport const DefaultHeader = () => {\n  return (\n    <div\n      sx={{\n        bg: \"csiDarkGrey\",\n      }}\n    >\n      <Container>\n        <HeaderContent />\n      </Container>\n    </div>\n  );\n};\nconst StickyHeader = ({ title }: ComponentProps) => {\n  const [sticky, setSticky] = useState(false);\n\n  useScrollPosition(\n    ({ currPos }) => {\n      if (currPos.y >= 80) {\n        setSticky(true);\n      } else {\n        setSticky(false);\n      }\n    },\n    [],\n    null,\n    true,\n    80\n  );\n\n  return (\n    <div\n      sx={{\n        position: sticky ? \"fixed\" : \"static\",\n        bg: \"csiDarkGrey\",\n        width: \"100%\",\n      }}\n    >\n      <Container>\n        {sticky ? <StickyContent title={title} /> : <HeaderContent />}\n      </Container>\n    </div>\n  );\n};\n\ninterface ComponentProps {\n  title?: string;\n  stickyMode?: Boolean;\n}\n\nconst Main = ({ title, stickyMode }: ComponentProps) => {\n  if (stickyMode) {\n    return <StickyHeader title={title} />;\n  } else {\n    return <DefaultHeader />;\n  }\n};\nexport default Main;\n","/** @jsx jsx */\nimport { jsx } from \"theme-ui\";\nimport Header from \"@components/Header\";\n\ninterface ComponentProps {\n  children: React.ReactNode;\n  sticky?: Boolean;\n  title?: string;\n}\nexport const Layout = ({ children, sticky, title }: ComponentProps) => {\n  return (\n    <div>\n      <Header stickyMode={sticky} title={title} />\n      <div>{children}</div>\n    </div>\n  );\n};\n\nexport default Layout;\n","/** @jsx jsx */\nimport { jsx, Styled } from \"theme-ui\";\n\nimport { graphql, Link } from \"gatsby\";\nimport { mapCraft } from \"./mappings\";\n\nimport { useEffect, useState } from \"react\";\nimport InstantSearch from \"@components/InstantSearch\";\nimport Layout from \"@components/Layout\";\nconst Impacts = (props) => {\n  const { category } = mapCraft(props.data.craft);\n\n  const { title } = category;\n\n  useEffect(() => {\n    if (title) {\n      console.log(title);\n      setRefinements({\n        ...defaultRefinements,\n        socialImpacts: [title],\n      });\n    }\n  }, []);\n\n  const [defaultRefinements, setRefinements] = useState({\n    type: [],\n    socialImpacts: [],\n  });\n\n  return (\n    <Layout sticky={true} title={title}>\n      <InstantSearch\n        refinementType=\"socialImpacts\"\n        defaultRefinement={defaultRefinements.socialImpacts}\n        isSearch={false}\n        heading={title}\n      />\n    </Layout>\n  );\n};\n\nexport default Impacts;\n\nexport const query = graphql`\n  query SocialImpactsQuery($id: Craft_QueryArgument) {\n    craft {\n      category(id: [$id]) {\n        ... on Craft_socialImpacts_Category {\n          title\n        }\n      }\n    }\n  }\n`;\n","// const mapEntry = (entry) => {\n//   return {\n//    category: category\n//   };\n// };\n\nexport const mapCraft = (craft) => {\n  // const moreResources = craft.resources.filter(resource => resource.id !== craft.entry.id)\n  return {\n    category: craft.category,\n  };\n};\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"useScrollPosition\", {\n  enumerable: true,\n  get: function get() {\n    return _useScrollPosition.useScrollPosition;\n  }\n});\n\nvar _useScrollPosition = require(\"./useScrollPosition\");"],"sourceRoot":""}